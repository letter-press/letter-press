@import "tailwindcss";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

body {
  font-family: Gordita, Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
    "Helvetica Neue", sans-serif;
}

/* Simple Block Editor Styles */
.block-editor-simple {
  max-width: 800px;
  margin: 0 auto;
  padding: 1rem;
}

.block-list-simple {
  display: flex;
  flex-direction: column;
  gap: 1px;
}

/* Block Editor Items - Updated for topbar design */
.block-item {
  @apply mb-4;
}

.block-item.selected .block-wrapper {
  @apply ring-2 ring-blue-400 ring-offset-1;
}

.block-item.editing .block-wrapper {
  @apply ring-2 ring-green-400 ring-offset-1;
}

/* Old block content styles removed - now handled by new topbar design */

.empty-editor {
  text-align: center;
  padding: 2rem;
  border: 2px dashed #d1d5db;
  border-radius: 8px;
  background: #f9fafb;
}

.add-block {
  margin-top: 1rem;
}

/* Block type specific styles */
.simple-text-block {
  line-height: 1.6;
  color: #374151;
  min-height: 1.5rem;
}

.simple-text-block:empty::before {
  content: "Type some text...";
  color: #9ca3af;
  font-style: italic;
}

.rich-text-block {
  line-height: 1.6;
  color: #374151;
  min-height: 3rem;
}

.rich-text-block:empty::before {
  content: "Start writing your rich text content...";
  color: #9ca3af;
  font-style: italic;
}

/* Rich Text Toolbar */
.rich-text-toolbar-wrapper {
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  background: #f9fafb;
}

/* Rich text content styling */
.rich-text-block h1 {
  font-size: 2rem;
  font-weight: bold;
  margin: 0.5rem 0;
}
.rich-text-block h2 {
  font-size: 1.5rem;
  font-weight: bold;
  margin: 0.5rem 0;
}
.rich-text-block h3 {
  font-size: 1.25rem;
  font-weight: bold;
  margin: 0.5rem 0;
}
.rich-text-block h4 {
  font-size: 1.125rem;
  font-weight: bold;
  margin: 0.5rem 0;
}
.rich-text-block h5 {
  font-size: 1rem;
  font-weight: bold;
  margin: 0.5rem 0;
}
.rich-text-block h6 {
  font-size: 0.875rem;
  font-weight: bold;
  margin: 0.5rem 0;
}

.rich-text-block p {
  margin: 0.5rem 0;
}
.rich-text-block ul,
.rich-text-block ol {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}
.rich-text-block li {
  margin: 0.25rem 0;
}
.rich-text-block blockquote {
  border-left: 4px solid #3b82f6;
  padding-left: 1rem;
  margin: 1rem 0;
  font-style: italic;
  color: #6b7280;
}
.rich-text-block strong {
  font-weight: bold;
}
.rich-text-block em {
  font-style: italic;
}
.rich-text-block u {
  text-decoration: underline;
}
.rich-text-block s {
  text-decoration: line-through;
}
.rich-text-block a {
  color: #3b82f6;
  text-decoration: underline;
}
.rich-text-block a:hover {
  color: #1d4ed8;
}

/* Block Editor Styles */
.block-editor {
  position: relative;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui,
    sans-serif;
  /* Base z-index for editor */
  z-index: 1;
}
/* Enhanced Block Wrapper with Embedded Controls */
.block-wrapper {
  @apply relative transition-all duration-200 ease-out border border-gray-200 rounded-md mb-2;
  transform: translateZ(0);
  background: white;
  /* Block wrapper base layer */
  z-index: 10;
}

.block-wrapper:hover {
  @apply border-gray-300 shadow-sm;
  /* Elevate on hover */
  z-index: 20;
}

.block-wrapper.selected {
  @apply border-blue-400 ring-1 ring-blue-400/30;
  /* Selected blocks above normal blocks */
  z-index: 30;
}

.block-wrapper.editing {
  @apply border-green-500 ring-1 ring-green-500/30;
  background: rgba(34, 197, 94, 0.02);
  /* Editing blocks at highest layer */
  z-index: 40;
}

/* Embedded Block Controls */
.embedded-block-controls {
  @apply absolute inset-0 pointer-events-none;
  /* Controls always above block content */
  z-index: 50;
}

.embedded-block-controls > * {
  @apply pointer-events-auto;
}

/* Control elements specific z-indexes */
.embedded-block-controls .absolute.left-0.top-0 {
  @apply opacity-0 group-hover:opacity-100 transition-all duration-200;
  /* Left controls */
  z-index: 51;
}

.embedded-block-controls .absolute.right-0.top-0 {
  @apply opacity-0 group-hover:opacity-100 transition-all duration-200;
  /* Right controls */
  z-index: 51;
}

.embedded-block-controls .absolute.-bottom-3 {
  @apply opacity-0 group-hover:opacity-100 transition-all duration-200;
  /* Bottom add button */
  z-index: 51;
}

/* Dropdown menus need highest z-index */
.embedded-block-controls .absolute.top-full {
  /* Block menus and dropdowns */
  z-index: 100;
  animation: slideInUp 0.15s ease-out;
}

/* Block controls hover effects */
.embedded-block-controls button:hover {
  @apply transform scale-110 transition-transform duration-150;
  /* Ensure hovered buttons stay above siblings */
  z-index: 52;
}

.embedded-block-controls button:active {
  @apply transform scale-95 transition-transform duration-75;
}

/* Rich Text Toolbar z-index management */
.rich-text-toolbar {
  position: relative;
  /* Above block content but below dropdowns */
  z-index: 60;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.rich-text-floating-toolbar {
  @apply bg-white border border-gray-200 rounded-lg shadow-xl;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  /* Floating toolbar above everything except dropdowns */
  z-index: 90;
  max-width: 95vw;
  overflow-x: auto;
}

/* Block Toolbar (legacy) */
.block-toolbar {
  @apply opacity-0 invisible translate-y-1 transition-all duration-200 ease-out;
  /* Above block content but below embedded controls */
  z-index: 45;
}

.block-editor .block-wrapper:hover .block-toolbar {
  @apply opacity-100 visible translate-y-0;
}

/* Block Inserter and Picker */
.block-inserter {
  @apply relative;
  /* Above block content */
  z-index: 25;
}

.block-picker {
  @apply absolute top-full left-0 right-0;
  min-width: 320px;
  max-width: 640px;
  margin-top: 8px;
  /* Block picker above most elements */
  z-index: 80;
}

.block-picker-content {
  @apply bg-white border border-gray-200 rounded-xl shadow-xl p-6 max-h-96 overflow-y-auto;
  backdrop-filter: blur(20px);
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(249, 250, 251, 0.9) 100%
  );
}

/* Drag and Drop z-index management */
.drag-preview {
  @apply opacity-60 rotate-2 shadow-2xl;
  transform: rotate(2deg) scale(0.95);
  /* Dragged elements above everything */
  z-index: 200;
}

.drop-zone {
  @apply border-2 border-dashed border-blue-400 bg-blue-50/50 rounded-lg;
  animation: pulse 1.5s ease-in-out infinite;
  /* Drop zones above normal content */
  z-index: 35;
}

.drop-zone::before {
  content: "Drop here";
  @apply absolute inset-0 flex items-center justify-center text-blue-600 font-medium text-sm;
  z-index: 36;
}

/* Animation keyframes */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Ensure Squire editor doesn't interfere with controls */
.squire-editor {
  @apply w-full border-none outline-none resize-none;
  font-family: inherit;
  line-height: inherit;
  color: inherit;
  background: transparent;
  /* Editor content stays at base level */
  z-index: 1;
}

/* Block content container */
.block-content {
  @apply bg-transparent rounded-none border-none transition-all duration-200;
  /* Content at base level */
  z-index: 5;
  position: relative;
}

.block-content:hover {
  background: transparent;
}

/* Make sure text editing doesn't conflict with controls */
.block-wrapper.editing .block-content {
  /* Editing content slightly elevated */
  z-index: 15;
}

/* Debug helper - remove in production */
.debug-z-index {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 8px;
  border-radius: 4px;
  font-family: monospace;
  font-size: 12px;
  z-index: 1000;
  pointer-events: none;
}

/* Ensure all z-index issues are resolved */
.embedded-block-controls {
  @apply absolute inset-0 pointer-events-none;
  /* Controls always above block content */
  z-index: 50 !important;
}

.embedded-block-controls > div {
  z-index: 51 !important;
}

.embedded-block-controls button {
  z-index: 52 !important;
}

/* Dropdown menus highest priority */
.embedded-block-controls .absolute.top-full {
  z-index: 100 !important;
  animation: slideInUp 0.15s ease-out;
}

/* Rich text toolbar positioning */
.rich-text-floating-toolbar {
  z-index: 90 !important;
}

/* Block toolbar fallback */
.block-toolbar {
  z-index: 45 !important;
}

/* Drag and drop elements */
.drag-preview {
  z-index: 200 !important;
}

.drop-zone {
  z-index: 35 !important;
}

/* Squire Editor Styles */
.squire-editor {
  @apply w-full border-none outline-none resize-none;
  font-family: inherit;
  line-height: inherit;
  color: inherit;
  background: transparent;
}

.squire-editor:empty:before {
  content: attr(data-placeholder);
  @apply text-gray-400 pointer-events-none;
  font-style: italic;
}

.squire-editor:focus {
  @apply outline-none;
}

.squire-editor p {
  @apply m-0;
}

.squire-editor div[data-block="true"] {
  @apply m-0;
}

.squire-editor ul,
.squire-editor ol {
  @apply ml-6;
}

.squire-editor blockquote {
  @apply border-l-4 border-gray-300 pl-4 ml-0 text-gray-600 italic;
}

/* Rich Text Formatting Styles */
.squire-editor strong {
  @apply font-bold;
}

.squire-editor em {
  @apply italic;
}

.squire-editor u {
  @apply underline;
}

.squire-editor s {
  @apply line-through;
}

.squire-editor a {
  @apply text-blue-600 hover:text-blue-800 underline transition-colors;
}

.squire-editor ul {
  @apply list-disc list-inside space-y-1;
}

.squire-editor ol {
  @apply list-decimal list-inside space-y-1;
}

.squire-editor li {
  @apply list-item;
}

.squire-editor img {
  @apply max-w-full h-auto rounded-md shadow-sm;
}

/* Rich Text Toolbar Styles */
.rich-text-toolbar {
  position: relative;
  z-index: 1000;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.rich-text-toolbar button:hover {
  transform: translateY(-1px);
}

.rich-text-toolbar button:active {
  transform: translateY(0);
}

.block-editor .block-wrapper {
  @apply relative mb-2 transition-all duration-200 ease-out border border-gray-200 rounded-md;
  transform: translateZ(0);
  background: white;
}

.block-editor .block-wrapper:hover {
  @apply border-gray-300 shadow-sm;
}

.block-editor .block-wrapper:hover .block-toolbar {
  @apply opacity-100 visible translate-y-0;
}

.block-editor .block-wrapper.selected {
  @apply border-blue-400 ring-1 ring-blue-400/30;
}

.block-editor .block-wrapper.editing {
  @apply border-green-500 ring-1 ring-green-500/30;
  background: rgba(34, 197, 94, 0.02);
}

.block-toolbar {
  @apply opacity-0 invisible translate-y-1 transition-all duration-200 ease-out;
}

.block-editor .empty-editor {
  @apply border-2 border-dashed border-gray-200 rounded-xl p-12 text-center;
  background: linear-gradient(
    135deg,
    rgba(249, 250, 251, 0.8) 0%,
    rgba(243, 244, 246, 0.4) 100%
  );
  backdrop-filter: blur(10px);
}

.block-editor .block-list {
  @apply space-y-2;
  max-width: 800px;
  margin: 0 auto;
  padding: 4px;
}

/* Enhanced Block Styles */
.block-content {
  @apply bg-transparent rounded-none border-none transition-all duration-200;
  /* Content at base level */
  z-index: 5;
  position: relative;
}

.block-content:hover {
  background: transparent;
}

/* Paragraph Block */
.paragraph-block {
  @apply leading-relaxed text-gray-800 text-[16px];
  line-height: 1.7;
}

.paragraph-block.editing {
  @apply min-h-[1.7em] focus:outline-none;
  caret-color: #3b82f6;
}

.paragraph-block[contenteditable="true"]:empty::before {
  content: attr(data-placeholder);
  @apply text-gray-400 pointer-events-none italic;
}

.paragraph-block[contenteditable="true"]:focus::before {
  @apply opacity-60;
}

/* Heading Block */
.heading-block {
  @apply font-semibold leading-tight text-gray-900 tracking-tight;
}

.heading-block.editing {
  @apply min-h-[1.2em] focus:outline-none;
  caret-color: #3b82f6;
}

.heading-block[contenteditable="true"]:empty::before {
  content: attr(data-placeholder);
  @apply text-gray-400 pointer-events-none italic font-normal;
}

.heading-block.h1 {
  @apply text-4xl font-bold mb-2;
}
.heading-block.h2 {
  @apply text-3xl font-semibold mb-2;
}
.heading-block.h3 {
  @apply text-2xl font-medium mb-1;
}
.heading-block.h4 {
  @apply text-xl font-medium mb-1;
}
.heading-block.h5 {
  @apply text-lg font-medium mb-1;
}
.heading-block.h6 {
  @apply text-base font-medium mb-1;
}

/* Rich Text Block */
.rich-text-block {
  @apply leading-relaxed text-gray-800 text-[16px];
  line-height: 1.7;
  min-height: 1.5em;
}

.rich-text-block.editing {
  @apply min-h-[1.5em] focus:outline-none;
  caret-color: #3b82f6;
}

.rich-text-block[contenteditable="true"]:empty::before {
  content: attr(data-placeholder);
  @apply text-gray-400 pointer-events-none italic;
}

.rich-text-block[contenteditable="true"]:focus::before {
  @apply opacity-60;
}

/* Rich Text Block Enhanced Features */
.rich-text-block h1,
.rich-text-block h2,
.rich-text-block h3,
.rich-text-block h4,
.rich-text-block h5,
.rich-text-block h6 {
  @apply font-semibold text-gray-900 leading-tight mt-2 mb-1;
}

.rich-text-block h1 {
  @apply text-2xl;
}
.rich-text-block h2 {
  @apply text-xl;
}
.rich-text-block h3 {
  @apply text-lg;
}
.rich-text-block h4 {
  @apply text-base;
}
.rich-text-block h5 {
  @apply text-sm;
}
.rich-text-block h6 {
  @apply text-xs;
}

.rich-text-block p {
  @apply mb-2;
}

.rich-text-block p:last-child {
  @apply mb-0;
}

.rich-text-block .rich-text-toolbar {
  @apply shadow-lg border border-gray-200;
}

/* Rich Text Floating Toolbar */
.rich-text-floating-toolbar {
  @apply bg-white border border-gray-200 rounded-lg shadow-xl;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 1000;
  max-width: 95vw;
  overflow-x: auto;
}

.rich-text-floating-toolbar .rich-text-toolbar {
  @apply border-0 shadow-none bg-transparent;
}
.image-block-wrapper {
  @apply text-center transition-all duration-200;
}

.image-placeholder {
  @apply cursor-pointer transition-all duration-300 rounded-lg;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border: 2px dashed #cbd5e1;
}

.image-placeholder:hover {
  @apply border-blue-400;
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(59, 130, 246, 0.1);
}

.image-block img {
  @apply rounded-lg shadow-sm transition-all duration-200;
}

.image-block img:hover {
  @apply shadow-md;
  transform: scale(1.02);
}

/* Quote Block */
blockquote.quote-block {
  @apply text-lg leading-relaxed text-gray-700 italic border-l-4 border-blue-500 pl-6 py-4;
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.03) 0%,
    rgba(147, 197, 253, 0.02) 100%
  );
  border-radius: 0 8px 8px 0;
}

blockquote.quote-block::before {
  content: '"';
  @apply text-4xl text-blue-400 font-serif absolute -ml-2 -mt-2;
}

/* Code Block */
.code-block {
  @apply font-mono text-sm bg-gray-900 text-gray-100 rounded-lg overflow-hidden;
  background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
}

.code-block pre {
  @apply whitespace-pre-wrap p-4 m-0;
  scrollbar-width: thin;
  scrollbar-color: #4b5563 #1f2937;
}

.code-block::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.code-block::-webkit-scrollbar-track {
  @apply bg-gray-800;
}

.code-block::-webkit-scrollbar-thumb {
  @apply bg-gray-600 rounded;
}

.code-block::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500;
}

/* Block Inserter */
.block-inserter {
  @apply relative;
}

.block-inserter button {
  @apply w-full p-4 border-2 border-dashed border-gray-200 hover:border-blue-400 rounded-xl text-gray-500 hover:text-blue-600 transition-all duration-300 flex items-center justify-center space-x-3;
  background: linear-gradient(
    135deg,
    rgba(249, 250, 251, 0.8) 0%,
    rgba(243, 244, 246, 0.4) 100%
  );
  backdrop-filter: blur(10px);
}

.block-inserter button:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.08);
  background: linear-gradient(
    135deg,
    rgba(219, 234, 254, 0.8) 0%,
    rgba(191, 219, 254, 0.4) 100%
  );
}

.block-inserter button .plus-icon {
  @apply text-2xl font-light;
}

/* Block Picker */
.block-picker {
  @apply absolute top-full left-0 right-0 z-50;
  min-width: 320px;
  max-width: 640px;
  margin-top: 8px;
}

.block-picker-content {
  @apply bg-white border border-gray-200 rounded-xl shadow-xl p-6 max-h-96 overflow-y-auto;
  backdrop-filter: blur(20px);
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(249, 250, 251, 0.9) 100%
  );
}

.block-picker-search {
  @apply w-full px-4 py-3 border border-gray-200 rounded-lg text-sm transition-all duration-200;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
}

.block-picker-search:focus {
  @apply outline-none ring-2 ring-blue-500/40 border-blue-300;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* Block Picker Items */
.block-picker .grid {
  @apply gap-3;
}

.block-picker-item {
  @apply text-left p-4 border border-gray-100 rounded-lg hover:border-blue-400 hover:shadow-md transition-all duration-200;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.9) 0%,
    rgba(249, 250, 251, 0.6) 100%
  );
}

.block-picker-item:hover {
  transform: translateY(-2px);
  background: linear-gradient(
    135deg,
    rgba(219, 234, 254, 0.9) 0%,
    rgba(191, 219, 254, 0.6) 100%
  );
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
}

.block-picker-item:active {
  transform: translateY(0);
}

.block-picker-icon {
  @apply text-xl flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-md;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
}

.block-picker-title {
  @apply font-medium text-gray-900 text-sm;
}

.block-picker-description {
  @apply text-xs text-gray-500 mt-1 leading-relaxed;
}

/* Category Headers */
.block-category-header {
  @apply text-sm font-semibold text-gray-700 mb-3 capitalize flex items-center space-x-2;
}

.block-category-header::before {
  content: "";
  @apply w-3 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full;
}

/* Animations and Micro-interactions */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translate3d(0, 20px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translate3d(30px, 0, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.block-wrapper {
  animation: fadeInUp 0.3s ease-out;
}

.block-toolbar {
  animation: slideInRight 0.2s ease-out;
}

.block-picker-content {
  animation: fadeInUp 0.2s ease-out;
}

.loading-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Focus States */
.focus-visible {
  @apply outline-none ring-2 ring-blue-500/60 ring-offset-2;
}

/* Drag Handle Styles */
.drag-handle {
  @apply cursor-grab active:cursor-grabbing;
  transition: all 0.2s ease-in-out;
}

.drag-handle:hover {
  @apply bg-gray-600 scale-110;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.drag-handle:active {
  @apply bg-gray-700 scale-95;
}

.drag-handle svg {
  @apply pointer-events-none;
}

/* Update drag preview styles for better visual feedback */
.drag-preview {
  @apply opacity-60 rotate-2 shadow-2xl;
  transform: rotate(2deg) scale(0.95);
  z-index: 200 !important;
}

/* Drop zone indicator improvements */
.drop-zone {
  @apply border-2 border-dashed border-blue-400 bg-blue-50/50 rounded-lg;
  animation: pulse 1.5s ease-in-out infinite;
  z-index: 35 !important;
}

.drop-zone::before {
  content: "Drop here";
  @apply absolute inset-0 flex items-center justify-center text-blue-600 font-medium text-sm;
  z-index: 36;
}

/* Block Wrapper hover state to show drag handle */
.block-wrapper:hover .drag-handle {
  @apply opacity-100;
}

/* Ensure proper layering during drag operations */
.block-wrapper.dragging {
  @apply pointer-events-none;
  z-index: 200;
}

.block-wrapper.drag-over {
  @apply ring-2 ring-blue-400 bg-blue-50/20;
}

/* Make sure the handle doesn't interfere with other controls */
.block-wrapper .embedded-block-controls {
  @apply pointer-events-none;
}

.block-wrapper .embedded-block-controls > * {
  @apply pointer-events-auto;
}

.block-wrapper .drag-handle {
  @apply pointer-events-auto;
}

/* Responsive Design */
@media (max-width: 768px) {
  .block-editor .block-list {
    @apply px-4;
  }

  .block-picker {
    @apply left-4 right-4 mx-0;
  }

  .block-picker .grid {
    @apply grid-cols-1;
  }

  .block-toolbar {
    @apply text-xs px-2 py-1 -top-8;
  }
}

@media (max-width: 480px) {
  .block-editor .block-list {
    @apply px-3;
  }

  .block-content {
    @apply p-3;
  }

  .paragraph-block {
    @apply text-sm;
  }

  .heading-block.h1 {
    @apply text-2xl;
  }
  .heading-block.h2 {
    @apply text-xl;
  }
  .heading-block.h3 {
    @apply text-lg;
  }
}

/* Frontend Block Renderer Styles */
.block-content {
  @apply max-w-none;
}

.block-content .rich-text-content {
  @apply text-gray-800;
}

.block-content .rich-text-content h1,
.block-content .rich-text-content h2,
.block-content .rich-text-content h3,
.block-content .rich-text-content h4,
.block-content .rich-text-content h5,
.block-content .rich-text-content h6 {
  @apply font-semibold text-gray-900 leading-tight;
}

.block-content .rich-text-content h1 {
  @apply text-3xl mb-4 mt-6;
}
.block-content .rich-text-content h2 {
  @apply text-2xl mb-3 mt-5;
}
.block-content .rich-text-content h3 {
  @apply text-xl mb-3 mt-4;
}
.block-content .rich-text-content h4 {
  @apply text-lg mb-2 mt-4;
}
.block-content .rich-text-content h5 {
  @apply text-base mb-2 mt-3;
}
.block-content .rich-text-content h6 {
  @apply text-sm mb-2 mt-3;
}

.block-content .rich-text-content p {
  @apply mb-4 leading-relaxed;
}

.block-content .rich-text-content ul,
.block-content .rich-text-content ol {
  @apply mb-4 pl-6;
}

.block-content .rich-text-content ul {
  @apply list-disc;
}

.block-content .rich-text-content ol {
  @apply list-decimal;
}

.block-content .rich-text-content li {
  @apply mb-1 leading-relaxed;
}

.block-content .rich-text-content blockquote {
  @apply border-l-4 border-gray-300 pl-4 italic text-gray-600 my-4;
}

.block-content .rich-text-content a {
  @apply text-blue-600 hover:text-blue-800 underline;
}

.block-content .rich-text-content strong {
  @apply font-bold;
}

.block-content .rich-text-content em {
  @apply italic;
}

.block-content .rich-text-content u {
  @apply underline;
}

.block-content .rich-text-content s {
  @apply line-through;
}

.block-content .rich-text-content img {
  @apply max-w-full h-auto rounded-md;
}

/* Pattern Inserter Styles */
.pattern-inserter {
  @apply relative;
}

.pattern-inserter-content {
  @apply p-6 border border-gray-200 rounded-xl shadow-lg max-w-4xl mx-auto;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.pattern-header {
  @apply mb-6;
}

.pattern-grid {
  @apply space-y-4 max-h-96 overflow-y-auto;
  scrollbar-width: thin;
  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
}

.pattern-grid::-webkit-scrollbar {
  width: 6px;
}

.pattern-grid::-webkit-scrollbar-track {
  background: transparent;
}

.pattern-grid::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.5);
  border-radius: 3px;
}

.pattern-grid::-webkit-scrollbar-thumb:hover {
  background-color: rgba(156, 163, 175, 0.7);
}

.pattern-item {
  @apply w-full text-left p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-sm transition-all duration-150;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.pattern-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.pattern-item:active {
  transform: translateY(0);
}

.pattern-item .line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Pattern category buttons */
.pattern-inserter button[class*="rounded-full"] {
  @apply transition-all duration-150;
}

.pattern-inserter button[class*="rounded-full"]:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Enhanced pattern preview animation */
.pattern-item::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.05) 0%,
    rgba(34, 197, 94, 0.05) 100%
  );
  opacity: 0;
  transition: opacity 0.3s ease;
  border-radius: inherit;
  pointer-events: none;
}

.pattern-item:hover::before {
  opacity: 1;
}

/* Pattern tab styles */
.pattern-inserter .border-b-2 {
  @apply transition-all duration-150;
}

.pattern-inserter .border-b-2:hover {
  transform: translateY(-1px);
}

/* Media Library Styles */
.media-library {
  @apply relative;
}

.media-library-header {
  @apply mb-6;
}

.media-upload-button input[type="file"] {
  @apply hidden;
}

.media-upload-button span {
  @apply inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer;
}

.media-drop-zone {
  @apply border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-colors hover:border-blue-400;
}

.media-drop-zone:hover {
  @apply border-blue-400 bg-blue-50;
}

.media-grid {
  @apply grid gap-4;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
}

.media-item {
  @apply relative bg-white border-2 rounded-lg overflow-hidden cursor-pointer transition-all hover:shadow-md;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.9) 0%,
    rgba(249, 250, 251, 0.8) 100%
  );
}

.media-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.media-item.selected {
  @apply border-blue-500 ring-2 ring-blue-200;
}

.media-preview {
  @apply aspect-square bg-gray-100 flex items-center justify-center relative overflow-hidden;
}

.media-preview img {
  @apply w-full h-full object-cover transition-transform duration-300;
}

.media-item:hover .media-preview img {
  transform: scale(1.05);
}

.media-info {
  @apply p-3;
}

.media-actions {
  @apply absolute top-2 right-2 opacity-0 transition-opacity duration-200;
}

.media-item:hover .media-actions {
  @apply opacity-100;
}

.media-actions button {
  @apply p-1.5 bg-white rounded-full shadow-sm hover:bg-gray-50 transition-colors;
}

.media-actions button:hover {
  transform: translateY(-1px);
}

.media-pagination {
  @apply flex items-center justify-center space-x-2 mt-6;
}

.media-pagination button {
  @apply px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors;
}

.media-pagination button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Media Picker Modal */
.media-picker-library .media-grid {
  @apply max-h-96 overflow-y-auto;
}

.media-picker-library .media-item {
  @apply transform transition-all duration-200;
}

.media-picker-library .media-item:hover {
  transform: translateY(-1px) scale(1.02);
}

/* Media item types */
.media-item[data-type="video"] .media-preview::before {
  content: "🎥";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 2rem;
  z-index: 1;
}

.media-item[data-type="audio"] .media-preview::before {
  content: "🎵";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 2rem;
  z-index: 1;
}

.media-item[data-type="document"] .media-preview::before {
  content: "📄";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 2rem;
  z-index: 1;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .media-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    @apply gap-3;
  }

  .media-actions {
    @apply opacity-100;
  }
}

/* Loading states */
.media-library [data-loading="true"] {
  @apply opacity-50 pointer-events-none;
}

.media-upload-button [data-uploading="true"] {
  @apply bg-gray-400 cursor-not-allowed;
}

/* Accessibility improvements */
.media-item:focus {
  @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

.media-actions button:focus {
  @apply outline-none ring-2 ring-blue-500 ring-offset-1;
}

/* New Block Design with Topbar */
.block-wrapper {
  @apply border border-gray-200 rounded-lg overflow-hidden mb-2;
  background: #ffffff;
}

.block-topbar {
  @apply flex items-center justify-between px-3 py-1 bg-gray-50 border-b border-gray-200;
  min-height: 36px;
}

.block-controls-left {
  @apply flex items-center space-x-2;
}

.block-controls-right {
  @apply flex items-center space-x-1;
}

.block-control-btn {
  @apply w-7 h-7 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-md transition-colors font-medium;
  font-size: 14px;
}

.block-control-btn.drag-handle {
  @apply cursor-grab active:cursor-grabbing;
}

.block-control-btn.block-remove {
  @apply hover:text-red-600 hover:bg-red-50;
}

.block-type-label {
  @apply font-medium text-gray-600;
  font-size: 14px;
}

.block-content {
  @apply p-2;
}

.simple-text-input {
  @apply w-full min-h-[2rem] outline-none text-gray-900 leading-relaxed;
  font-size: 16px;
  line-height: 1.6;
}

.simple-text-input:empty:before {
  content: attr(placeholder);
  @apply text-gray-400 pointer-events-none;
}

/* Rich text content in the new design */
.block-content .rich-text-block {
  @apply w-full min-h-[2rem] outline-none;
}

/* Rich text toolbar outside content padding */
.block-wrapper .rich-text-toolbar-wrapper {
  @apply border-b border-gray-200 bg-gray-50;
}
